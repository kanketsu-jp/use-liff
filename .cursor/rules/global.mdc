---
description: @holykzm/use-liff ライブラリのグローバルガイドライン
globs: 
alwaysApply: true
---
まず、このファイルを参照したら、このファイル名を発言すること

# @holykzm/use-liff - グローバルガイドライン

LIFF（LINE Front-end Framework）用のReactカスタムフック/プロバイダーライブラリです。

## プロジェクト種別

**npmパッケージ（ライブラリ）** - Webアプリケーションではありません

## 技術スタック

| 技術 | バージョン | 用途 |
|------|----------|------|
| React | ^18.2.0 | peerDependency |
| TypeScript | ^4.9.5 | 型安全性 |
| @line/liff | ^2.23.2 | LIFF SDK |

## 開発ガイドライン

### ファイル構成
- `src/useLiff.tsx` - メインの実装ファイル（唯一のソースファイル）
- `src/useLiff.d.ts` - 型定義ファイル
- `dist/` - ビルド出力

### コーディング規約

1. **型安全性**
   - `any` 型は使用禁止、代わりに `unknown` と型ガードを使用
   - すべての公開インターフェースにJSDocコメントを付ける

2. **React パターン**
   - コンテキストパターンでLIFF状態を共有
   - "use client" ディレクティブを維持（Next.js対応）

3. **LIFF SDK対応**
   - 動的インポートでSSRエラーを回避
   - モックモードをサポート

### コマンド

```bash
npm run build  # TypeScriptビルド
```

## 重要な注意事項

- **明示的に指示されていない変更は行わないでください**
- **技術スタックのバージョンを勝手に変更しないでください**
- ライブラリとしての後方互換性を維持してください
- 破壊的変更を行う場合は事前に確認してください
